"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/../../dist/chunk-HVXEB6GA.js":
/*!************************************!*\
  !*** ../../dist/chunk-HVXEB6GA.js ***!
  \************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createFlagsClient: () => (/* binding */ createFlagsClient)\n/* harmony export */ });\n/* harmony import */ var _chunk_B67M3F4I_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-B67M3F4I.js */ \"(middleware)/../../dist/chunk-B67M3F4I.js\");\n/* harmony import */ var _vercel_edge_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vercel/edge-config */ \"(middleware)/../../node_modules/@vercel/edge-config/dist/index.js\");\n\n// src/core/client.ts\n\nfunction createFlagsClient(options = {}) {\n    const namespace = options.namespace ?? \"flag\";\n    const env = (0,_chunk_B67M3F4I_js__WEBPACK_IMPORTED_MODULE_0__.resolveEnvironment)(options.env ?? null);\n    const edgeConfigConnection = process.env.EDGE_CONFIG;\n    const edgeConfig = options.connection ? null : edgeConfigConnection ? (0,_vercel_edge_config__WEBPACK_IMPORTED_MODULE_1__.createClient)(edgeConfigConnection) : null;\n    let cache = null;\n    const cacheExpiry = 3e4;\n    let lastFetch = 0;\n    async function ensureCache() {\n        const now = Date.now();\n        const cacheAge = cache ? now - lastFetch : -1;\n        if (cache && cacheAge < cacheExpiry) return;\n        try {\n            if (edgeConfig) {\n                const prefix = `${namespace}__${env}__`;\n                const allItems = await edgeConfig.getAll();\n                const newCache = {};\n                for (const [key, value] of Object.entries(allItems ?? {})){\n                    if (key.startsWith(prefix)) {\n                        const shortKey = key.slice(prefix.length);\n                        newCache[shortKey] = value;\n                    }\n                }\n                cache = newCache;\n                lastFetch = now;\n                return;\n            }\n            if (!cache) cache = {};\n            return;\n        } catch (error) {\n            if (!cache) cache = {};\n            if (cache) lastFetch = now;\n        }\n    }\n    async function getBoolean(key) {\n        await ensureCache();\n        const v = cache?.[key];\n        if (v === null || v === void 0) return null;\n        if (typeof v === \"boolean\") return v;\n        if (typeof v === \"string\") {\n            if (v === \"true\") return true;\n            if (v === \"false\") return false;\n        }\n        return null;\n    }\n    async function getString(key) {\n        await ensureCache();\n        const v = cache?.[key];\n        if (v === null || v === void 0) return null;\n        if (typeof v === \"string\") return v;\n        return null;\n    }\n    async function getNumber(key) {\n        await ensureCache();\n        const v = cache?.[key];\n        if (v === null || v === void 0) return null;\n        if (typeof v === \"number\") return v;\n        if (typeof v === \"string\") {\n            const n = Number(v);\n            return Number.isFinite(n) ? n : null;\n        }\n        return null;\n    }\n    async function getJSON(key) {\n        await ensureCache();\n        const v = cache?.[key];\n        if (v === null || v === void 0) return null;\n        if (typeof v === \"object\") return v;\n        if (typeof v === \"string\") {\n            try {\n                return JSON.parse(v);\n            } catch  {\n                return null;\n            }\n        }\n        return null;\n    }\n    async function getMany(keys) {\n        await ensureCache();\n        const out = {};\n        for (const k of keys){\n            out[k] = cache?.[k] ?? null;\n        }\n        return out;\n    }\n    return {\n        getBoolean,\n        getString,\n        getNumber,\n        getJSON,\n        getMany\n    };\n}\n //# sourceMappingURL=chunk-HVXEB6GA.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4uLy4uL2Rpc3QvY2h1bmstSFZYRUI2R0EuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFNkI7QUE2Q3RCLFNBQVMsa0JBQWtCLFVBQThCLENBQUMsR0FBRztJQUNsRSxNQUFNLFlBQVksUUFBUSxhQUFhO0lBQ3ZDLE1BQU0sTUFBTSxzRUFBa0IsQ0FBQyxRQUFRLE9BQU8sSUFBSTtJQUNsRCxNQUFNLHVCQUF1QixRQUFRLElBQUk7SUFFekMsTUFBTSxhQUFhLFFBQVEsYUFBYSxPQUFRLHVCQUF1QixpRUFBWSxDQUFDLG9CQUFvQixJQUFJO0lBRTVHLElBQUksUUFBd0M7SUFDNUMsTUFBTSxjQUFjO0lBQ3BCLElBQUksWUFBWTtJQUVoQixlQUFlLGNBQWM7UUFDM0IsTUFBTSxNQUFNLEtBQUssSUFBSTtRQUNyQixNQUFNLFdBQVcsUUFBUSxNQUFNLFlBQVk7UUFDM0MsSUFBSSxTQUFTLFdBQVcsWUFBYTtRQUVyQyxJQUFJO1lBQ0YsSUFBSSxZQUFZO2dCQUNkLE1BQU0sU0FBUyxHQUFHLFNBQVMsS0FBSyxHQUFHO2dCQUNuQyxNQUFNLFdBQVcsTUFBTSxXQUFXLE9BQU87Z0JBRXpDLE1BQU0sV0FBb0MsQ0FBQztnQkFDM0MsV0FBVyxDQUFDLEtBQUssS0FBSyxLQUFLLE9BQU8sUUFBUSxZQUFZLENBQUMsQ0FBQyxFQUFHO29CQUN6RCxJQUFJLElBQUksV0FBVyxNQUFNLEdBQUc7d0JBQzFCLE1BQU0sV0FBVyxJQUFJLE1BQU0sT0FBTyxNQUFNO3dCQUN4QyxTQUFTLFFBQVEsSUFBSTtvQkFDdkI7Z0JBQ0Y7Z0JBRUEsUUFBUTtnQkFDUixZQUFZO2dCQUNaO1lBQ0Y7WUFFQSxJQUFJLENBQUMsTUFBTyxTQUFRLENBQUM7WUFDckI7UUFFRixTQUFTLE9BQU87WUFDZCxJQUFJLENBQUMsTUFBTyxTQUFRLENBQUM7WUFDckIsSUFBSSxNQUFPLGFBQVk7UUFDekI7SUFDRjtJQUVBLGVBQWUsV0FBVyxLQUFzQztRQUM5RCxNQUFNLFlBQVk7UUFDbEIsTUFBTSxJQUFJLFFBQVEsR0FBRztRQUNyQixJQUFJLE1BQU0sUUFBUSxNQUFNLE9BQVcsUUFBTztRQUMxQyxJQUFJLE9BQU8sTUFBTSxVQUFXLFFBQU87UUFDbkMsSUFBSSxPQUFPLE1BQU0sVUFBVTtZQUN6QixJQUFJLE1BQU0sT0FBUSxRQUFPO1lBQ3pCLElBQUksTUFBTSxRQUFTLFFBQU87UUFDNUI7UUFDQSxPQUFPO0lBQ1Q7SUFFQSxlQUFlLFVBQVUsS0FBcUM7UUFDNUQsTUFBTSxZQUFZO1FBQ2xCLE1BQU0sSUFBSSxRQUFRLEdBQUc7UUFDckIsSUFBSSxNQUFNLFFBQVEsTUFBTSxPQUFXLFFBQU87UUFDMUMsSUFBSSxPQUFPLE1BQU0sU0FBVSxRQUFPO1FBQ2xDLE9BQU87SUFDVDtJQUVBLGVBQWUsVUFBVSxLQUFxQztRQUM1RCxNQUFNLFlBQVk7UUFDbEIsTUFBTSxJQUFJLFFBQVEsR0FBRztRQUNyQixJQUFJLE1BQU0sUUFBUSxNQUFNLE9BQVcsUUFBTztRQUMxQyxJQUFJLE9BQU8sTUFBTSxTQUFVLFFBQU87UUFDbEMsSUFBSSxPQUFPLE1BQU0sVUFBVTtZQUN6QixNQUFNLElBQUksT0FBTyxDQUFDO1lBQ2xCLE9BQU8sT0FBTyxTQUFTLENBQUMsSUFBSSxJQUFJO1FBQ2xDO1FBQ0EsT0FBTztJQUNUO0lBRUEsZUFBZSxRQUFxQixLQUFnQztRQUNsRSxNQUFNLFlBQVk7UUFDbEIsTUFBTSxJQUFJLFFBQVEsR0FBRztRQUNyQixJQUFJLE1BQU0sUUFBUSxNQUFNLE9BQVcsUUFBTztRQUMxQyxJQUFJLE9BQU8sTUFBTSxTQUFVLFFBQU87UUFDbEMsSUFBSSxPQUFPLE1BQU0sVUFBVTtZQUN6QixJQUFJO2dCQUNGLE9BQU8sS0FBSyxNQUFNLENBQUM7WUFDckIsU0FBUTtnQkFDTixPQUFPO1lBQ1Q7UUFDRjtRQUNBLE9BQU87SUFDVDtJQUVBLGVBQWUsUUFBUSxNQUFrRDtRQUN2RSxNQUFNLFlBQVk7UUFDbEIsTUFBTSxNQUErQixDQUFDO1FBQ3RDLFdBQVcsS0FBSyxLQUFNO1lBQ3BCLElBQUksQ0FBQyxJQUFJLFFBQVEsQ0FBQyxLQUFLO1FBQ3pCO1FBQ0EsT0FBTztJQUNUO0lBRUEsT0FBTztRQUFFO1FBQVk7UUFBVztRQUFXO1FBQVM7SUFBUTtBQUM5RCIsInNvdXJjZXMiOlsiL1VzZXJzL3lhaG9yYmFya291c2tpL3RoZW5ldHdvcmsvZWRnZS1mZWF0dXJlLWZsYWdzL2V4YW1wbGVzL3NyYy9jb3JlL2NsaWVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZXNvbHZlRW52aXJvbm1lbnQsIGZvcm1hdE5hbWVzcGFjZWRLZXkgfSBmcm9tIFwiLi4vdXRpbHMvZW52XCI7XG5pbXBvcnQgdHlwZSB7IEVkZ2VDb25maWdDb25uZWN0aW9uLCBGbGFnc0NsaWVudE9wdGlvbnMgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSBcIkB2ZXJjZWwvZWRnZS1jb25maWdcIjtcblxuZnVuY3Rpb24gY3JlYXRlRmV0Y2hDb25uZWN0aW9uKG9wdHM6IHsgZWRnZUNvbmZpZ0lkPzogc3RyaW5nOyBlZGdlQ29uZmlnVG9rZW4/OiBzdHJpbmc7IHRlYW1JZD86IHN0cmluZyB9KTogRWRnZUNvbmZpZ0Nvbm5lY3Rpb24ge1xuICBjb25zdCBiYXNlID0gb3B0cy5lZGdlQ29uZmlnSWRcbiAgICA/IGBodHRwczovL2FwaS52ZXJjZWwuY29tL3YxL2VkZ2UtY29uZmlnLyR7b3B0cy5lZGdlQ29uZmlnSWR9YFxuICAgIDogYGh0dHBzOi8vYXBpLnZlcmNlbC5jb20vdjEvZWRnZS1jb25maWdgO1xuICBjb25zdCB0b2tlbiA9IG9wdHMuZWRnZUNvbmZpZ1Rva2VuID8/IHByb2Nlc3MuZW52LlZFUkNFTF9BUElfVE9LRU4gPz8gXCJcIjtcbiAgYXN5bmMgZnVuY3Rpb24gZ2V0SXRlbShrZXk6IHN0cmluZyk6IFByb21pc2U8dW5rbm93bj4ge1xuICAgIGNvbnN0IHNlYXJjaCA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICBzZWFyY2guc2V0KFwia2V5c1wiLCBKU09OLnN0cmluZ2lmeShba2V5XSkpO1xuICAgIGlmIChvcHRzLnRlYW1JZCA/PyBwcm9jZXNzLmVudi5WRVJDRUxfVEVBTV9JRCkgc2VhcmNoLnNldChcInRlYW1JZFwiLCAob3B0cy50ZWFtSWQgPz8gcHJvY2Vzcy5lbnYuVkVSQ0VMX1RFQU1fSUQpIGFzIHN0cmluZyk7XG4gICAgY29uc3QgdXJsID0gYCR7YmFzZX0vaXRlbXM/JHtzZWFyY2gudG9TdHJpbmcoKX1gO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgaGVhZGVyczogdG9rZW4gPyB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gIH0gOiB1bmRlZmluZWQsXG4gICAgICBjYWNoZTogXCJuby1zdG9yZVwiXG4gICAgfSk7XG4gICAgaWYgKCFyZXMub2spIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGRhdGEgPSAoYXdhaXQgcmVzLmpzb24oKSkgYXMgQXJyYXk8eyBrZXk6IHN0cmluZzsgdmFsdWU6IHVua25vd24gfT47XG4gICAgY29uc3QgZm91bmQgPSBkYXRhPy5maW5kKChpKSA9PiBpLmtleSA9PT0ga2V5KT8udmFsdWU7XG4gICAgcmV0dXJuIGZvdW5kID8/IG51bGw7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gZ2V0TWFueShrZXlzOiBzdHJpbmdbXSk6IFByb21pc2U8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+IHtcbiAgICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHJldHVybiB7fTtcbiAgICBjb25zdCBzZWFyY2ggPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgc2VhcmNoLnNldChcImtleXNcIiwgSlNPTi5zdHJpbmdpZnkoa2V5cykpO1xuICAgIGlmIChvcHRzLnRlYW1JZCA/PyBwcm9jZXNzLmVudi5WRVJDRUxfVEVBTV9JRCkgc2VhcmNoLnNldChcInRlYW1JZFwiLCAob3B0cy50ZWFtSWQgPz8gcHJvY2Vzcy5lbnYuVkVSQ0VMX1RFQU1fSUQpIGFzIHN0cmluZyk7XG4gICAgY29uc3QgdXJsID0gYCR7YmFzZX0vaXRlbXM/JHtzZWFyY2gudG9TdHJpbmcoKX1gO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgaGVhZGVyczogdG9rZW4gPyB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gIH0gOiB1bmRlZmluZWQsXG4gICAgICBjYWNoZTogXCJuby1zdG9yZVwiXG4gICAgfSk7XG4gICAgaWYgKCFyZXMub2spIHJldHVybiB7fTtcbiAgICBjb25zdCBkYXRhID0gKGF3YWl0IHJlcy5qc29uKCkpIGFzIEFycmF5PHsga2V5OiBzdHJpbmc7IHZhbHVlOiB1bmtub3duIH0+O1xuICAgIGNvbnN0IG91dDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcbiAgICBmb3IgKGNvbnN0IGsgb2Yga2V5cykgb3V0W2tdID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IGl0IG9mIGRhdGEgPz8gW10pIHtcbiAgICAgIGlmIChrZXlzLmluY2x1ZGVzKGl0LmtleSkpIHtcbiAgICAgICAgb3V0W2l0LmtleV0gPSBpdC52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuICByZXR1cm4geyBnZXRJdGVtLCBnZXRNYW55IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGbGFnc0NsaWVudChvcHRpb25zOiBGbGFnc0NsaWVudE9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBuYW1lc3BhY2UgPSBvcHRpb25zLm5hbWVzcGFjZSA/PyBcImZsYWdcIjtcbiAgY29uc3QgZW52ID0gcmVzb2x2ZUVudmlyb25tZW50KG9wdGlvbnMuZW52ID8/IG51bGwpO1xuICBjb25zdCBlZGdlQ29uZmlnQ29ubmVjdGlvbiA9IHByb2Nlc3MuZW52LkVER0VfQ09ORklHO1xuICBcbiAgY29uc3QgZWRnZUNvbmZpZyA9IG9wdGlvbnMuY29ubmVjdGlvbiA/IG51bGwgOiAoZWRnZUNvbmZpZ0Nvbm5lY3Rpb24gPyBjcmVhdGVDbGllbnQoZWRnZUNvbmZpZ0Nvbm5lY3Rpb24pIDogbnVsbCk7XG5cbiAgbGV0IGNhY2hlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IG51bGwgPSBudWxsO1xuICBjb25zdCBjYWNoZUV4cGlyeSA9IDMwMDAwO1xuICBsZXQgbGFzdEZldGNoID0gMDtcblxuICBhc3luYyBmdW5jdGlvbiBlbnN1cmVDYWNoZSgpIHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IGNhY2hlQWdlID0gY2FjaGUgPyBub3cgLSBsYXN0RmV0Y2ggOiAtMTtcbiAgICBpZiAoY2FjaGUgJiYgY2FjaGVBZ2UgPCBjYWNoZUV4cGlyeSkgcmV0dXJuO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBpZiAoZWRnZUNvbmZpZykge1xuICAgICAgICBjb25zdCBwcmVmaXggPSBgJHtuYW1lc3BhY2V9X18ke2Vudn1fX2A7XG4gICAgICAgIGNvbnN0IGFsbEl0ZW1zID0gYXdhaXQgZWRnZUNvbmZpZy5nZXRBbGwoKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IG5ld0NhY2hlOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhhbGxJdGVtcyA/PyB7fSkpIHtcbiAgICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgocHJlZml4KSkge1xuICAgICAgICAgICAgY29uc3Qgc2hvcnRLZXkgPSBrZXkuc2xpY2UocHJlZml4Lmxlbmd0aCk7XG4gICAgICAgICAgICBuZXdDYWNoZVtzaG9ydEtleV0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNhY2hlID0gbmV3Q2FjaGU7XG4gICAgICAgIGxhc3RGZXRjaCA9IG5vdztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIWNhY2hlKSBjYWNoZSA9IHt9O1xuICAgICAgcmV0dXJuO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmICghY2FjaGUpIGNhY2hlID0ge307XG4gICAgICBpZiAoY2FjaGUpIGxhc3RGZXRjaCA9IG5vdztcbiAgICB9XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBnZXRCb29sZWFuKGtleTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuIHwgbnVsbD4ge1xuICAgIGF3YWl0IGVuc3VyZUNhY2hlKCk7XG4gICAgY29uc3QgdiA9IGNhY2hlPy5ba2V5XTtcbiAgICBpZiAodiA9PT0gbnVsbCB8fCB2ID09PSB1bmRlZmluZWQpIHJldHVybiBudWxsO1xuICAgIGlmICh0eXBlb2YgdiA9PT0gXCJib29sZWFuXCIpIHJldHVybiB2O1xuICAgIGlmICh0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgaWYgKHYgPT09IFwidHJ1ZVwiKSByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmICh2ID09PSBcImZhbHNlXCIpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBnZXRTdHJpbmcoa2V5OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcbiAgICBhd2FpdCBlbnN1cmVDYWNoZSgpO1xuICAgIGNvbnN0IHYgPSBjYWNoZT8uW2tleV07XG4gICAgaWYgKHYgPT09IG51bGwgfHwgdiA9PT0gdW5kZWZpbmVkKSByZXR1cm4gbnVsbDtcbiAgICBpZiAodHlwZW9mIHYgPT09IFwic3RyaW5nXCIpIHJldHVybiB2O1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gZ2V0TnVtYmVyKGtleTogc3RyaW5nKTogUHJvbWlzZTxudW1iZXIgfCBudWxsPiB7XG4gICAgYXdhaXQgZW5zdXJlQ2FjaGUoKTtcbiAgICBjb25zdCB2ID0gY2FjaGU/LltrZXldO1xuICAgIGlmICh2ID09PSBudWxsIHx8IHYgPT09IHVuZGVmaW5lZCkgcmV0dXJuIG51bGw7XG4gICAgaWYgKHR5cGVvZiB2ID09PSBcIm51bWJlclwiKSByZXR1cm4gdjtcbiAgICBpZiAodHlwZW9mIHYgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNvbnN0IG4gPSBOdW1iZXIodik7XG4gICAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKG4pID8gbiA6IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gZ2V0SlNPTjxUID0gdW5rbm93bj4oa2V5OiBzdHJpbmcpOiBQcm9taXNlPFQgfCBudWxsPiB7XG4gICAgYXdhaXQgZW5zdXJlQ2FjaGUoKTtcbiAgICBjb25zdCB2ID0gY2FjaGU/LltrZXldO1xuICAgIGlmICh2ID09PSBudWxsIHx8IHYgPT09IHVuZGVmaW5lZCkgcmV0dXJuIG51bGw7XG4gICAgaWYgKHR5cGVvZiB2ID09PSBcIm9iamVjdFwiKSByZXR1cm4gdiBhcyBUO1xuICAgIGlmICh0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodikgYXMgVDtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBnZXRNYW55KGtleXM6IHN0cmluZ1tdKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4ge1xuICAgIGF3YWl0IGVuc3VyZUNhY2hlKCk7XG4gICAgY29uc3Qgb3V0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuICAgIGZvciAoY29uc3QgayBvZiBrZXlzKSB7XG4gICAgICBvdXRba10gPSBjYWNoZT8uW2tdID8/IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG4gIH1cblxuICByZXR1cm4geyBnZXRCb29sZWFuLCBnZXRTdHJpbmcsIGdldE51bWJlciwgZ2V0SlNPTiwgZ2V0TWFueSB9O1xufVxuXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/../../dist/chunk-HVXEB6GA.js\n");

/***/ }),

/***/ "(middleware)/./middleware.ts":
/*!***********************!*\
  !*** ./middleware.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n/* harmony import */ var notion_edge_flags__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! notion-edge-flags */ \"(middleware)/../../dist/chunk-HVXEB6GA.js\");\n\n\nasync function middleware(req) {\n    const flags = (0,notion_edge_flags__WEBPACK_IMPORTED_MODULE_1__.createFlagsClient)();\n    const on = await flags.getBoolean('checkoutRedesign');\n    if (on && new URL(req.url).pathname === '/old') {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL('/', req.url));\n    }\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbWlkZGxld2FyZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkM7QUFDVztBQUUvQyxlQUFlRSxXQUFXQyxHQUFZO0lBQzNDLE1BQU1DLFFBQVFILG9FQUFpQkE7SUFDL0IsTUFBTUksS0FBSyxNQUFNRCxNQUFNRSxVQUFVLENBQUM7SUFDbEMsSUFBSUQsTUFBTSxJQUFJRSxJQUFJSixJQUFJSyxHQUFHLEVBQUVDLFFBQVEsS0FBSyxRQUFRO1FBQzlDLE9BQU9ULHFEQUFZQSxDQUFDVSxRQUFRLENBQUMsSUFBSUgsSUFBSSxLQUFLSixJQUFJSyxHQUFHO0lBQ25EO0lBQ0EsT0FBT1IscURBQVlBLENBQUNXLElBQUk7QUFDMUIiLCJzb3VyY2VzIjpbIi9Vc2Vycy95YWhvcmJhcmtvdXNraS90aGVuZXR3b3JrL2VkZ2UtZmVhdHVyZS1mbGFncy9leGFtcGxlcy9uZXh0anMtbGl2ZS9taWRkbGV3YXJlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IGNyZWF0ZUZsYWdzQ2xpZW50IH0gZnJvbSAnbm90aW9uLWVkZ2UtZmxhZ3MnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWlkZGxld2FyZShyZXE6IFJlcXVlc3QpIHtcbiAgY29uc3QgZmxhZ3MgPSBjcmVhdGVGbGFnc0NsaWVudCgpO1xuICBjb25zdCBvbiA9IGF3YWl0IGZsYWdzLmdldEJvb2xlYW4oJ2NoZWNrb3V0UmVkZXNpZ24nKTtcbiAgaWYgKG9uICYmIG5ldyBVUkwocmVxLnVybCkucGF0aG5hbWUgPT09ICcvb2xkJykge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QobmV3IFVSTCgnLycsIHJlcS51cmwpKTtcbiAgfVxuICByZXR1cm4gTmV4dFJlc3BvbnNlLm5leHQoKTtcbn1cblxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImNyZWF0ZUZsYWdzQ2xpZW50IiwibWlkZGxld2FyZSIsInJlcSIsImZsYWdzIiwib24iLCJnZXRCb29sZWFuIiwiVVJMIiwidXJsIiwicGF0aG5hbWUiLCJyZWRpcmVjdCIsIm5leHQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./middleware.ts\n");

/***/ })

});